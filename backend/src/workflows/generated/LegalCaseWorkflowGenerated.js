/**
 * ============================================================================
 * LEGAL CASE WORKFLOW - AUTO-GENERATED
 * ============================================================================
 *
 * ⚠️ ARCHIVO AUTO-GENERADO - NO EDITAR MANUALMENTE
 *
 * Este archivo es regenerado automáticamente por UniversalWorkflowGenerator
 * cuando cambia el código de los servicios relacionados.
 *
 * FUENTES:
 * * - LegalWorkflowService.js
 * * - LegalCase360Service.js
 * * - EmployeeLegal360Service.js
 *
 * Brain detecta este archivo via LIVE_CODE_SCAN y extrae los STAGES.
 * Cualquier cambio en los servicios fuente regenerará este archivo.
 *
 * Generado: 2026-01-08T00:04:57.771Z
 * Versión: 2.0.20260107-auto
 * Módulo: legal
 *
 * ESTADÍSTICAS:
 * - Total stages: 43
 * - Core: 3
 * - Existentes: 6
 * - Auto-generados: 31
 * - Estados finales: 3
 *
 * ============================================================================
 */

class LegalWorkflowGenerated {
    /**
     * STAGES - Detectados automáticamente por Brain via LIVE_CODE_SCAN
     */
    static STAGES = {
        CASE_RECEIVED: {
            name: 'Caso Recibido',
            order: 1,
            category: 'intake',
            description: 'Stage core de Legal Case Workflow',
            transitions_to: [],
            isCore: true,
        },

        prejudicial: {
            name: 'Prejudicial',
            order: 2,
            category: 'process',
            source: {
                file: 'undefined',
                function: 'undefined',
                line: undefined
            },
            transitions_to: [],
            isExisting: true,
        },

        ANALYSIS: {
            name: 'Análisis',
            order: 3,
            category: 'process',
            description: 'Stage core de Legal Case Workflow',
            transitions_to: [],
            isCore: true,
        },

        mediation: {
            name: 'Mediacion',
            order: 4,
            category: 'process',
            source: {
                file: 'undefined',
                function: 'undefined',
                line: undefined
            },
            transitions_to: [],
            isExisting: true,
        },

        RESOLUTION: {
            name: 'Resolución',
            order: 5,
            category: 'outcome',
            description: 'Stage core de Legal Case Workflow',
            transitions_to: [],
            isCore: true,
        },

        judicial: {
            name: 'Judicial',
            order: 6,
            category: 'process',
            source: {
                file: 'undefined',
                function: 'undefined',
                line: undefined
            },
            transitions_to: [],
            isExisting: true,
        },

        appeal: {
            name: 'Apelacion',
            order: 7,
            category: 'process',
            source: {
                file: 'undefined',
                function: 'undefined',
                line: undefined
            },
            transitions_to: [],
            isExisting: true,
        },

        execution: {
            name: 'Ejecucion',
            order: 8,
            category: 'process',
            source: {
                file: 'undefined',
                function: 'undefined',
                line: undefined
            },
            transitions_to: [],
            isExisting: true,
        },

        closed: {
            name: 'Cerrado',
            order: 9,
            category: 'process',
            source: {
                file: 'undefined',
                function: 'undefined',
                line: undefined
            },
            transitions_to: [],
            isExisting: true,
        },

        CREATE_CASE: {
            name: 'Create Case',
            order: 10,
            category: 'persistence',
            description: 'Auto-detectado desde LegalWorkflowService.createCase()',
            source: {
                file: 'LegalWorkflowService.js',
                function: 'createCase',
                line: 116
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        UPDATE_SUB_STATUS: {
            name: 'Update Sub Status',
            order: 11,
            category: 'process',
            description: 'Auto-detectado desde LegalWorkflowService.updateSubStatus()',
            source: {
                file: 'LegalWorkflowService.js',
                function: 'updateSubStatus',
                line: 340
            },
            validations: ["currentCase"],
            transitions_to: [],
            isAutoGenerated: true,
        },

        CREATE_STAGE: {
            name: 'Create Stage',
            order: 12,
            category: 'persistence',
            description: 'Auto-detectado desde LegalWorkflowService.createStage()',
            source: {
                file: 'LegalWorkflowService.js',
                function: 'createStage',
                line: 414
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        CREATE_DEADLINE: {
            name: 'Create Deadline',
            order: 13,
            category: 'persistence',
            description: 'Auto-detectado desde LegalWorkflowService.createDeadline()',
            source: {
                file: 'LegalWorkflowService.js',
                function: 'createDeadline',
                line: 552
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_CASE_BY_ID: {
            name: 'Get Case By Id',
            order: 14,
            category: 'lookup',
            description: 'Auto-detectado desde LegalWorkflowService.getCaseById()',
            source: {
                file: 'LegalWorkflowService.js',
                function: 'getCaseById',
                line: 615
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_CASE_TIMELINE: {
            name: 'Get Case Timeline',
            order: 15,
            category: 'lookup',
            description: 'Auto-detectado desde LegalWorkflowService.getCaseTimeline()',
            source: {
                file: 'LegalWorkflowService.js',
                function: 'getCaseTimeline',
                line: 629
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_CASE_DOCUMENTS: {
            name: 'Get Case Documents',
            order: 16,
            category: 'lookup',
            description: 'Auto-detectado desde LegalWorkflowService.getCaseDocuments()',
            source: {
                file: 'LegalWorkflowService.js',
                function: 'getCaseDocuments',
                line: 650
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_CASE_DEADLINES: {
            name: 'Get Case Deadlines',
            order: 17,
            category: 'lookup',
            description: 'Auto-detectado desde LegalWorkflowService.getCaseDeadlines()',
            source: {
                file: 'LegalWorkflowService.js',
                function: 'getCaseDeadlines',
                line: 667
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_DASHBOARD_STATS: {
            name: 'Get Dashboard Stats',
            order: 18,
            category: 'lookup',
            description: 'Auto-detectado desde LegalWorkflowService.getDashboardStats()',
            source: {
                file: 'LegalWorkflowService.js',
                function: 'getDashboardStats',
                line: 687
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        CREATE_CASE_NOTIFICATION: {
            name: 'Create Case Notification',
            order: 19,
            category: 'persistence',
            description: 'Auto-detectado desde LegalWorkflowService.createCaseNotification()',
            source: {
                file: 'LegalWorkflowService.js',
                function: 'createCaseNotification',
                line: 785
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        CREATE_STAGE_CHANGE_NOTIFICATION: {
            name: 'Create Stage Change Notification',
            order: 20,
            category: 'persistence',
            description: 'Auto-detectado desde LegalWorkflowService.createStageChangeNotification()',
            source: {
                file: 'LegalWorkflowService.js',
                function: 'createStageChangeNotification',
                line: 817
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        CREATE_DEADLINE_NOTIFICATION: {
            name: 'Create Deadline Notification',
            order: 21,
            category: 'persistence',
            description: 'Auto-detectado desde LegalWorkflowService.createDeadlineNotification()',
            source: {
                file: 'LegalWorkflowService.js',
                function: 'createDeadlineNotification',
                line: 849
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GENERATE_FULL_DOSSIER: {
            name: 'Generate Full Dossier',
            order: 22,
            category: 'process',
            description: 'Auto-detectado desde LegalCase360Service.generateFullDossier()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'generateFullDossier',
                line: 33
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_PERSONAL_INFO: {
            name: 'Get Personal Info',
            order: 23,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getPersonalInfo()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getPersonalInfo',
                line: 134
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_EMPLOYMENT_INFO: {
            name: 'Get Employment Info',
            order: 24,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getEmploymentInfo()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getEmploymentInfo',
                line: 176
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_ATTENDANCE_HISTORY: {
            name: 'Get Attendance History',
            order: 25,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getAttendanceHistory()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getAttendanceHistory',
                line: 236
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_DISCIPLINARY_HISTORY: {
            name: 'Get Disciplinary History',
            order: 26,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getDisciplinaryHistory()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getDisciplinaryHistory',
                line: 317
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_LEGAL_COMMUNICATIONS: {
            name: 'Get Legal Communications',
            order: 27,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getLegalCommunications()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getLegalCommunications',
                line: 378
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_MEDICAL_HISTORY: {
            name: 'Get Medical History',
            order: 28,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getMedicalHistory()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getMedicalHistory',
                line: 417
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_NOTIFICATIONS_HISTORY: {
            name: 'Get Notifications History',
            order: 29,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getNotificationsHistory()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getNotificationsHistory',
                line: 507
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_VACATION_HISTORY: {
            name: 'Get Vacation History',
            order: 30,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getVacationHistory()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getVacationHistory',
                line: 567
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_PAYROLL_HISTORY: {
            name: 'Get Payroll History',
            order: 31,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getPayrollHistory()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getPayrollHistory',
                line: 631
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_POSITION_CHANGES: {
            name: 'Get Position Changes',
            order: 32,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getPositionChanges()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getPositionChanges',
                line: 694
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_TRAINING_HISTORY: {
            name: 'Get Training History',
            order: 33,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getTrainingHistory()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getTrainingHistory',
                line: 748
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_DOCUMENTS_HISTORY: {
            name: 'Get Documents History',
            order: 34,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getDocumentsHistory()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getDocumentsHistory',
                line: 781
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_PREVIOUS_CASES: {
            name: 'Get Previous Cases',
            order: 35,
            category: 'lookup',
            description: 'Auto-detectado desde LegalCase360Service.getPreviousCases()',
            source: {
                file: 'LegalCase360Service.js',
                function: 'getPreviousCases',
                line: 813
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_FULL_LEGAL_REPORT: {
            name: 'Get Full Legal Report',
            order: 36,
            category: 'lookup',
            description: 'Auto-detectado desde EmployeeLegal360Service.getFullLegalReport()',
            source: {
                file: 'EmployeeLegal360Service.js',
                function: 'getFullLegalReport',
                line: 34
            },
            validations: ["employeeData"],
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_EMPLOYEE_BASIC_INFO: {
            name: 'Get Employee Basic Info',
            order: 37,
            category: 'lookup',
            description: 'Auto-detectado desde EmployeeLegal360Service.getEmployeeBasicInfo()',
            source: {
                file: 'EmployeeLegal360Service.js',
                function: 'getEmployeeBasicInfo',
                line: 127
            },
            validations: ["result.length === 0"],
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_DISCIPLINARY_RECORDS: {
            name: 'Get Disciplinary Records',
            order: 38,
            category: 'lookup',
            description: 'Auto-detectado desde EmployeeLegal360Service.getDisciplinaryRecords()',
            source: {
                file: 'EmployeeLegal360Service.js',
                function: 'getDisciplinaryRecords',
                line: 186
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_JUDICIAL_RECORDS: {
            name: 'Get Judicial Records',
            order: 39,
            category: 'lookup',
            description: 'Auto-detectado desde EmployeeLegal360Service.getJudicialRecords()',
            source: {
                file: 'EmployeeLegal360Service.js',
                function: 'getJudicialRecords',
                line: 254
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        GET_LEGAL_STATS: {
            name: 'Get Legal Stats',
            order: 40,
            category: 'lookup',
            description: 'Auto-detectado desde EmployeeLegal360Service.getLegalStats()',
            source: {
                file: 'EmployeeLegal360Service.js',
                function: 'getLegalStats',
                line: 324
            },
            transitions_to: [],
            isAutoGenerated: true,
        },

        CASE_CLOSED_SUCCESS: {
            name: 'Caso Cerrado - Éxito',
            order: 41,
            category: 'success',
            description: 'Estado final',
            transitions_to: [],
            is_final: true,
            is_success: true,
        },

        CASE_CLOSED_FAILURE: {
            name: 'Caso Cerrado - Sin Resolución',
            order: 42,
            category: 'rejection',
            description: 'Estado final',
            transitions_to: [],
            is_final: true,
            is_rejection: true,
        },

        CASE_ARCHIVED: {
            name: 'Caso Archivado',
            order: 43,
            category: 'final',
            description: 'Estado final',
            transitions_to: [],
            is_final: true,
        },

    };

    /**
     * WORKFLOW METADATA
     */
    static WORKFLOW_METADATA = {
        name: 'Legal Case Workflow',
        module: 'legal',
        version: '2.0.20260107-auto',
        isAutoGenerated: true,
        generatedAt: '2026-01-08T00:04:57.771Z',
        sourceFiles: ["LegalWorkflowService.js","LegalCase360Service.js","EmployeeLegal360Service.js"],
        entry_point: 'CASE_RECEIVED',
        final_states: {
            success: ["CASE_CLOSED_SUCCESS"],
            rejection: ["CASE_CLOSED_FAILURE"]
        },
        stats: {"total":43,"core":3,"existing":6,"autoGenerated":31,"outcomes":3}
    };

    /**
     * Obtener stages en orden
     */
    static getStagesInOrder() {
        return Object.entries(this.STAGES)
            .map(([key, stage]) => ({ key, ...stage }))
            .sort((a, b) => (a.order || 999) - (b.order || 999));
    }

    /**
     * Obtener stages finales
     */
    static getFinalStages() {
        return Object.entries(this.STAGES)
            .filter(([_, stage]) => stage.is_final)
            .map(([key, stage]) => ({ key, ...stage }));
    }

    /**
     * Validar transición
     */
    static isValidTransition(fromStage, toStage) {
        const from = this.STAGES[fromStage];
        if (!from || !from.transitions_to) return false;
        return from.transitions_to.includes(toStage);
    }

    /**
     * Obtener siguiente stage sugerido
     */
    static getNextSuggestedStage(currentStage) {
        const current = this.STAGES[currentStage];
        if (!current || !current.transitions_to || current.transitions_to.length === 0) return null;
        return current.transitions_to[0];
    }

    /**
     * Obtener tutorial steps para este workflow
     */
    static getTutorialSteps() {
        return this.getStagesInOrder()
            .filter(s => !s.is_final)
            .map((stage, index) => ({
                step: index + 1,
                stageId: stage.key,
                title: stage.name,
                description: stage.description || '',
                category: stage.category,
                validations: stage.validations || [],
                nextStages: stage.transitions_to || []
            }));
    }
}

module.exports = LegalWorkflowGenerated;
